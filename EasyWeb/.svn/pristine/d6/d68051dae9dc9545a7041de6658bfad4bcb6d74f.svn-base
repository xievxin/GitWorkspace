//package com.xx.easyweb;
//
//import android.annotation.SuppressLint;
//import android.content.Context;
//import android.os.Bundle;
//import android.os.Handler;
//import android.os.Message;
//import android.os.Process;
//import android.support.annotation.Nullable;
//import android.support.v4.app.Fragment;
//import android.util.Log;
//import android.view.LayoutInflater;
//import android.view.View;
//import android.view.ViewGroup;
//
//import java.lang.reflect.Constructor;
//
///**
// * Created by xievxin on 2017/11/8.
// */
//@SuppressLint("ValidFragment")
//public class WebFragment extends Fragment{
//
//    private static final String TAG = "WebFragment";
//
//    public static final int TYPE_LOAD_URL = 0;
//    public static final int TYPE_POST_URL = 1;
//
//    EasyWebview webView;
//    private String title;
//    private String url;
//    private String webClassName;
//
//    private Handler handler = new Handler() {
//        @Override
//        public void handleMessage(Message msg) {
//            switch (msg.what) {
//                case TYPE_LOAD_URL:
//                    webView.loadUrl(msg.obj.toString());
//                    break;
//                case TYPE_POST_URL:
////                    webView.postUrl(msg.obj.toString());
//                    break;
//                default:break;
//            }
//        }
//    };
//
//    public static WebFragment newInstance(String title, String url, String webClassName) {
//        Bundle args = new Bundle();
//        args.putString("title", title);
//        args.putString("url", url);
//        args.putString("webClassName", webClassName);
//        WebFragment fragment = new WebFragment();
//        fragment.setArguments(args);
//        return fragment;
//    }
//
//    @Override
//    public void onCreate(@Nullable Bundle savedInstanceState) {
//        super.onCreate(savedInstanceState);
//        title = getArguments().getString("title");
//        url = getArguments().getString("url");
//        webClassName = getArguments().getString("webClassName");
//    }
//
//    @Nullable
//    @Override
//    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
//        Log.i(TAG, "onCreateView: "+ Process.myPid());
//
//        try {
//            Class webCls = Class.forName(webClassName);
//            Constructor con = webCls.getConstructor(Context.class);
//            webView = (EasyWebview) con.newInstance(getActivity());
//        } catch (Exception e) {
//            e.printStackTrace();
//        } finally {
//            if(webView==null) throw new RuntimeException("webView init err:"+webClassName);
//        }
//
//
//        webView.loadUrl(url);
//        return webView;
//    }
//
//    public boolean canGoBack() {
//        return webView!=null && webView.canGoback();
//    }
//
//    public void onGoBack() {
//        webView.onGoBack();
//    }
//
//    public void loadUrl(String url) {
//        handler.obtainMessage(TYPE_LOAD_URL, url).sendToTarget();
//    }
//
//    @Override
//    public void onDestroyView() {
//        super.onDestroyView();
//        handler.removeCallbacksAndMessages(null);
//    }
//}
